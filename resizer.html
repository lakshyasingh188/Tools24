<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iResize - Professional Photo & PDF Tool</title>
    <link rel="stylesheet" href="resizer.css">
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
</head>
<body>

    <div class="apple-container">
        
        <div id="step1" class="view">
            <div class="upload-box" id="dropZone">
                <div class="icon-group">
                    <div class="main-btn big-btn">Select images</div>
                </div>
                <p>or drop images and PDFs here</p>
                <input type="file" id="fileInput" hidden accept="image/*,application/pdf">
            </div>
        </div>

        <div id="step2" class="view hidden">
            <div class="settings-layout">
                <div class="sidebar">
                    <h3>Resize Settings</h3>
                    
                    <div class="apple-tabs">
                        <button class="tab-btn active" data-target="tab-size">By Size</button>
                        <button class="tab-btn" data-target="tab-percent">Percentage</button>
                        <button class="tab-btn" data-target="tab-social">Social</button>
                    </div>

                    <div id="tab-size" class="tab-content">
                        <div class="input-grid">
                            <label>Width (px) <input type="number" id="widthPx" value="1120"></label>
                            <label>Height (px) <input type="number" id="heightPx" value="840"></label>
                        </div>
                    </div>

                    <div id="tab-percent" class="tab-content hidden">
                        <input type="range" id="sizeSlider" min="1" max="100" value="100">
                        <p style="text-align:center;">Scale: <b id="percentLabel">100%</b></p>
                    </div>

                    <div id="tab-social" class="tab-content hidden">
                        <select id="platformSelect" class="apple-select">
                            <option value="1200x630">Facebook Post</option>
                            <option value="1080x1080">Instagram Square</option>
                            <option value="1080x1920">Instagram Story</option>
                            <option value="1280x720">YouTube Thumbnail</option>
                        </select>
                    </div>

                    <div class="export-settings">
                        <label>Max File Size</label>
                        <div class="flex-row">
                            <input type="number" id="maxSize" placeholder="500">
                            <select id="sizeUnit" class="apple-select" style="width: 80px;">
                                <option value="KB">KB</option>
                                <option value="MB">MB</option>
                            </select>
                        </div>
                    </div>

                    <button id="resizeBtn" class="primary-btn big-btn">Resize Now</button>
                </div>

                <div class="preview-area">
                    <div class="preview-card">
                        <div id="filePreview" class="img-preview"></div>
                        <div class="file-info">
                            <p id="fileNameDisplay">image.png</p>
                            <div class="res-badge"><span id="origRes">0x0</span> ⮕ <span id="newRes">0x0</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="step3" class="view hidden">
            <div class="loader-content">
                <h2>Optimizing your file...</h2>
                <div class="progress-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <div id="progressText">0%</div>
                <p>Applying high-quality compression</p>
            </div>
        </div>

        <div id="step4" class="view hidden">
            <div class="download-content">
                <div class="success-icon">✓</div>
                <h2>Ready for download!</h2>
                <p>Your file has been processed successfully.</p>
                
                <div class="download-card">
                    <span id="finalFileName">resized_file.jpg</span>
                    <button id="downloadBtn" class="primary-btn big-btn">Download Now</button>
                </div>
                
                <button onclick="location.reload()" class="secondary-link">← Resize another file</button>
            </div>
        </div>

    </div>

    <script src="resizer.js"></script>
</body>
</html>